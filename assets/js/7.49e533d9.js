(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{425:function(t,s,a){t.exports=a.p+"assets/img/varchar.af7de577.png"},426:function(t,s,a){t.exports=a.p+"assets/img/joins.7e382abe.png"},438:function(t,s,a){"use strict";a.r(s);var e=a(34),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"mysql知识点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql知识点"}},[t._v("#")]),t._v(" MySQL知识点")]),t._v(" "),e("blockquote",[e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#数据类型"}},[t._v("数据类型")])]),e("li",[e("a",{attrs:{href:"#mysql连接查询-join语法"}},[t._v("MySQL连接查询(Join语法)")])]),e("li",[e("a",{attrs:{href:"#innodb事务-acid"}},[t._v("InnoDB事务(ACID)")]),e("ul",[e("li",[e("a",{attrs:{href:"#事务的隔离性级别-并发"}},[t._v("事务的隔离性级别(并发)：")])]),e("li",[e("a",{attrs:{href:"#四种事务隔离级别-处理并发问题"}},[t._v("四种事务隔离级别：（处理并发问题）")])]),e("li",[e("a",{attrs:{href:"#设置全局事务隔离级别"}},[t._v("设置全局事务隔离级别")])]),e("li",[e("a",{attrs:{href:"#设置当前会话事务隔离级别"}},[t._v("设置当前会话事务隔离级别")])]),e("li",[e("a",{attrs:{href:"#查询事务隔离级别分析工具"}},[t._v("查询事务隔离级别分析工具")])])])])])]),e("p")]),t._v(" "),e("h2",{attrs:{id:"数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[t._v("#")]),t._v(" 数据类型")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("char & varchar")])])]),t._v(" "),e("p",[e("strong",[t._v("varchar:")]),t._v(" 用于存储  "),e("strong",[t._v("变长")]),t._v("  字符串,不常更新的字段(经常更新容易产生碎片)")]),t._v(" "),e("p",[e("strong",[t._v("char:")]),t._v(" 用于存储  "),e("strong",[t._v("定长")]),t._v("  字符串,常更新的字段(经常更新不容易产生碎片)")]),t._v(" "),e("p",[e("img",{attrs:{src:a(425),alt:"avatar"}})]),t._v(" "),e("h2",{attrs:{id:"mysql连接查询-join语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql连接查询-join语法"}},[t._v("#")]),t._v(" MySQL连接查询(Join语法)")]),t._v(" "),e("p",[e("strong",[t._v("inner join")]),t._v(","),e("strong",[t._v("left join")]),t._v(","),e("strong",[t._v("right join")]),t._v(","),e("strong",[t._v("full outer join")]),t._v(","),e("strong",[t._v("union")]),t._v(","),e("strong",[t._v("union all")]),t._v("的区别")]),t._v(" "),e("p",[t._v("如下图:")]),t._v(" "),e("p",[e("img",{attrs:{src:a(426),alt:"avatar"}})]),t._v(" "),e("h2",{attrs:{id:"innodb事务-acid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#innodb事务-acid"}},[t._v("#")]),t._v(" InnoDB事务(ACID)")]),t._v(" "),e("p",[e("strong",[t._v("事务 ：")]),t._v(" 可以理解为数据库执行的一个最基础的单位，其包含有限的操作命令(crud)。")]),t._v(" "),e("p",[e("em",[e("strong",[t._v("需要满足一下条件 ：")])])]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("原子性(Atomicity) ：")]),t._v(" 要么执行完全结束，要么全部不执行。避免数据执行不完全带来的错误数据，所以事务必须具有原子性（commit、rollback）。即在事务A提交之前，如果发生错误，则需要回退到事务执行前的状态。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("一致性(Consistency) ：")]),t._v(" 指的是事务在执行的前后，数据库的数据一定会保持一致性的状态。可以理解为系统从一种状态转变为另一种状态。事务A在提交之后，对系统的改变，事务B一定会感知到相同的变化。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("隔离性(Isolation) ：")]),t._v(" 指的是事务之间的执行相互独立。在并发多个事务执行的时候，每个事务内部的操作不会影响到其他的事务。事务的执行可以抽象为串行执行（这里是修改上的串行）。针对不同情况，事务的隔离会有不同的隔离级别。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("持久性(Durability) ：")]),t._v(" 事务一旦提交成功就会被更新到到数据库，不会再被回退。")])])]),t._v(" "),e("h3",{attrs:{id:"事务的隔离性级别-并发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事务的隔离性级别-并发"}},[t._v("#")]),t._v(" 事务的隔离性级别(并发)：")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("脏读 ：")]),t._v(" 事务A读取事务B更新的数据，数据B进行了回滚操作，那么A读取到的数据是回滚前的数据是脏数据。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("不可重复读 ：")]),t._v(" 在一次事务中，前后两次查询的数据不一致。主要是在事务未提交前，有其他的事务进行了更新提交操作。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("幻读 ：")]),t._v(" 事务A在对系统进行更新以后，事务B对系统进行了插入或者删除操作，导致事务A发现仍有数据未更新，如同幻觉。")])])]),t._v(" "),e("h3",{attrs:{id:"四种事务隔离级别-处理并发问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四种事务隔离级别-处理并发问题"}},[t._v("#")]),t._v(" 四种事务隔离级别：（处理并发问题）")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("隔离级别")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("脏读可能性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("不可重复读可能性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("幻读可能性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("加锁读")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("多版本并发控制(MVCC)工作情况")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("未提交读")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("提交读")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("可重复读")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("可串行化")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("YES")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("NO")])])])]),t._v(" "),e("p",[e("strong",[t._v("未提交读（Read Uncommitted）：")]),t._v(" 在该隔离级别，所有事务都可以看到其他未提交事务的执行结果。事务A可以读取事务B未提交的数据，如果事务B回滚，此时A读取的数据即为脏数据。")]),t._v(" "),e("p",[e("strong",[t._v("提交读（Read Committed）：")]),t._v(" 事务A只能读取事务B，或者其他事务已经提交的数据。所以不会出现脏读的数据，但是会出现前后两次不一致的不可重复读，或者幻读。")]),t._v(" "),e("p",[e("strong",[t._v("可重复读 （Repeatable Read）：")]),t._v(" 这是MySQL的默认事务隔离级别，它确保同一事务的多个实例在并发读取数据时，会看到同样的数据行。这是因为MVCC机制，select读取不会更改版本号，是快照读，而insert、update和delete会更新版本号，是当前读（当前版本）（注意，这里不会破坏数据的一致性）。无法解决幻读的现象。")]),t._v(" "),e("p",[e("strong",[t._v("可串行化（Serializable）：")]),t._v(" 当事务A开启此隔离的级别时候，当其他事务插入一条记录报错，表会被锁了插入失败，mysql中事务隔离级别为serializable时会锁整个表，防止幻读的出现，但是完全的串行换操作会导致效率极低，一般不会使用此隔离级别。")]),t._v(" "),e("h3",{attrs:{id:"设置全局事务隔离级别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置全局事务隔离级别"}},[t._v("#")]),t._v(" 设置全局事务隔离级别")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GLOBAL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRANSACTION")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ISOLATION")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEVEL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("READ")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNCOMMITTED")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GLOBAL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRANSACTION")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ISOLATION")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEVEL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("READ")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMITTED")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GLOBAL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRANSACTION")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ISOLATION")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEVEL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("REPEATABLE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("READ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GLOBAL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRANSACTION")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ISOLATION")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEVEL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SERIALIZABLE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"设置当前会话事务隔离级别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置当前会话事务隔离级别"}},[t._v("#")]),t._v(" 设置当前会话事务隔离级别")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("session")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("transaction")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("isolation")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("level")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("READ")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNCOMMITTED")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("session")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("transaction")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("isolation")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("level")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("READ")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMITTED")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("session")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("transaction")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("isolation")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("level")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("REPEATABLE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("READ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("session")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("transaction")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("isolation")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("level")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SERIALIZABLE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"查询事务隔离级别分析工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询事务隔离级别分析工具"}},[t._v("#")]),t._v(" 查询事务隔离级别分析工具")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" variables "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%iso%'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" @"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@global.transaction_isolation")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);